<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fabric Sofas</title>
    <link rel="icon" href="imgrelated/iconforhomepage" type="image/x-icon">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="styles.css">  
</head>
<body>
    <nav>
        <div class="logo">
            <img src="imgrelated/iconforhomepage" alt="Softyfy Logo" >
            <h1>COZYFY</h1>
        </div>
        <div class="nav-links">
            <a href="favorites.html"><i class='bx bxs-heart'></i>Favorites</a>
        </div>
    </nav>
    <main>
        <h1>WELCOME TO COZYFY</h1>
        <h1>FABRIC SOFA's</h1>
    <div class="gallery">
        <div class="product-gallery" id="product-gallery">
            <div class="card" data-price="12000" data-name="Modern Sofa" data-id="6" >
                <img src="imgrelated/fabric1.jpg" title="Crafted with premium-grade cotton-linen blend" alt="Modern Sofa"class="zoomable">
                <h3>Modern Sofa</h3>
                <p>₹12,000</p>
                <div class="buttons">
                    <button class="fav" ><i class="bx bx-heart"></i><a href="favorites.html"> Favorite </a></button>
                    <button class="buy" onclick="buyProduct(6)">Buy</button>
                </div>
            </div>
            <div class="card" data-price="21000" data-name="Comfort Sofa" data-id="7">
                <img src="imgrelated/fabric2.jpg" title="Made with eco-friendly woven jute fabric." alt="Comfort Sofa" class="zoomable">
                <h3>Comfort Sofa</h3>
                <p>₹21,000</p>
                <div class="buttons">
                    <button class="fav"><i class="bx bx-heart"></i> <a href="favorites.html"> Favorite </a></button>
                    <button class="buy" onclick="buyProduct(7)">Buy</button>
                </div>
            </div>

            <div class="card" data-price="19000" data-name="Resting Sofa" data-id="8">
                <img src="imgrelated/fabric3.jpg" title="This elegant blue sofa features a velvety-soft microfiber fabric that’s both luxurious and durable." alt="Resting Sofa" class="zoomable">
                <h3>Resting Sofa</h3>
                <p>₹19,000</p>
                <div class="buttons">
                    <button class="fav"><i class="bx bx-heart"></i> <a href="favorites.html"> Favorite </a></button>
                    <button class="buy" onclick="buyProduct(8)">Buy</button>
                </div>
            </div>
            <div class="card" data-price="23000" data-name="Luxury Sofa" data-id="9">
                <img src="imgrelated/fabric4.jpg" title="This brown sofa offers a rich, earthy aesthetic." alt="Luxury Sofa" class="zoomable">
                <h3>Luxury Sofa</h3>
                <p>₹23,000</p>
                <div class="buttons">
                    <button class="fav"><i class="bx bx-heart"></i> <a href="favorites.html"> Favorite </a></button>
                    <button class="buy" onclick="buyProduct(9)">Buy</button>
                </div>
            </div>
            <div class="card" data-price="15000" data-name="Elegant Sofa" data-id="10">
                <img src="imgrelated/fabric5.jpg" title="This sofa features a soft polyester blend fabric gentle on the skin." alt="Elegant Sofa"class="zoomable">
                <h3>Elegant Sofa</h3>
                <p>₹15,000</p>
                <div class="buttons">
                    <button class="fav"><i class="bx bx-heart"></i> <a href="favorites.html"> Favorite </a></button>
                    <button class="buy" onclick="buyProduct(10)">Buy</button>
                </div>
            </div>
        </div> 
    </div>
<script>
    // Add to Favourites functionality
    document.querySelectorAll(".fav").forEach(button => {
        button.addEventListener("click", function (event) {
            event.preventDefault();
            const productCard = this.closest(".card");
            const product = {
                id: productCard.getAttribute("data-id"),
                name: productCard.querySelector("h3").innerText,
                price: productCard.querySelector("p").innerText,
                img: productCard.querySelector("img").src,
            };
            let favourites = JSON.parse(localStorage.getItem("favourites")) || [];
            if (!favourites.some(item => item.id === product.id)) {
                favourites.push(product);
                localStorage.setItem("favourites", JSON.stringify(favourites));
                alert("Added to Favourites!");
            } else {
                alert("This product is already in Favourites!");
            }
        });
    });
     // add to buy
        function buyProduct(productId) {
        const productCard = document.querySelector(`.card[data-id="${productId}"]`);
        const product = {
            id: productCard.getAttribute("data-id"),
            name: productCard.querySelector("h3").innerText,
            price: productCard.querySelector("p").innerText,
            img: productCard.querySelector("img").src
        };
        localStorage.setItem("selectedProduct", JSON.stringify(product));
        window.location.href = "buy.html";
    }
</script>
    </main>
    <footer>
        <a href="#">Back to Top</a>
        <a href="living.html">Back to Living</a>
        <a href="index.html">Back to Home</a> 
    </footer>
</body>
</html>
